(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{187:(e,s,t)=>{Promise.resolve().then(t.bind(t,3792))},3792:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var l=t(5155),r=t(6766),a=t(2115);function i(){let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)(null),[c,n]=(0,a.useState)(!0);(0,a.useEffect)(()=>{fetch("/my_galgame.json").then(e=>e.json()).then(e=>{s(e),n(!1)})},[]);let d=e.reduce((e,s)=>{let t=Math.floor(s.vote);return e[t]||(e[t]=[]),e[t].push(s),e},{}),o=e=>new Date(1e3*e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}),m=e=>{let s=document.getElementById("score-".concat(e));s&&s.scrollIntoView({behavior:"smooth"})};return c?(0,l.jsx)("main",{className:"min-h-screen bg-cover bg-center bg-fixed flex items-center justify-center",style:{backgroundImage:"url(/background.webp)"},children:(0,l.jsx)("div",{className:"text-white text-2xl",children:"加载中..."})}):(0,l.jsxs)("main",{className:"min-h-screen bg-cover bg-center bg-fixed",style:{backgroundImage:"url(/background.webp)"},children:[(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold mb-8 text-center text-black drop-shadow-lg",children:"我的 Galgame 收藏"}),(0,l.jsx)("div",{className:"flex justify-center gap-4 mb-8 flex-wrap",children:Object.keys(d).sort((e,s)=>Number(s)-Number(e)).map(e=>(0,l.jsxs)("button",{onClick:()=>m(Number(e)),className:"px-4 py-2 bg-white/80 hover:bg-white/90 rounded-lg shadow-md transition-all duration-300 text-black font-medium",children:[e,"分 (",d[Number(e)].length,"部)"]},e))}),Object.entries(d).sort((e,s)=>{let[t]=e,[l]=s;return Number(l)-Number(t)}).map(e=>{let[s,t]=e;return(0,l.jsxs)("div",{id:"score-".concat(s),className:"mb-12 scroll-mt-20",children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold mb-6 text-black drop-shadow-lg",children:[s," 分作品 (",t.length,"部)"]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.sort((e,s)=>s.finished-e.finished).map(e=>(0,l.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[(0,l.jsx)("div",{className:"relative h-48 cursor-pointer",onClick:()=>i(e.image),children:(0,l.jsx)(r.default,{src:e.image,alt:e.title,fill:!0,className:"object-cover",unoptimized:!0})}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-2 text-black",children:e.title}),(0,l.jsxs)("div",{className:"text-gray-700",children:[(0,l.jsxs)("p",{children:["发售日期: ",e.released]}),(0,l.jsxs)("p",{children:["完成日期: ",o(e.finished)]}),(0,l.jsxs)("p",{children:["个人评分: ",e.vote.toFixed(1)]})]})]})]},e.id))})]},s)})]}),t&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 cursor-pointer",onClick:()=>i(null),children:(0,l.jsx)("div",{className:"relative w-[90vw] h-[90vh]",children:(0,l.jsx)(r.default,{src:t,alt:"放大图片",fill:!0,className:"object-contain",unoptimized:!0})})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[766,441,684,358],()=>s(187)),_N_E=e.O()}]);